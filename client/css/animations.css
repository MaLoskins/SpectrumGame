/* ===== KEYFRAME ANIMATIONS ===== */
@keyframes spin { to { transform: rotate(360deg); } }
@keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.7; transform: scale(1.05); } }
@keyframes bounce { 0%, 20%, 53%, 80%, 100% { transform: translate3d(0, 0, 0); } 40%, 43% { transform: translate3d(0, -8px, 0); } 70% { transform: translate3d(0, -4px, 0); } 90% { transform: translate3d(0, -2px, 0); } }
@keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); } 20%, 40%, 60%, 80% { transform: translateX(4px); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
@keyframes slideInFromTop { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideInFromBottom { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideInFromLeft { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
@keyframes slideInFromRight { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
@keyframes scaleIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }
@keyframes scaleOut { from { opacity: 1; transform: scale(1); } to { opacity: 0; transform: scale(0.8); } }
@keyframes zoomIn { from { opacity: 0; transform: scale(0.3); } 50% { opacity: 1; } to { opacity: 1; transform: scale(1); } }
@keyframes zoomOut { from { opacity: 1; transform: scale(1); } 50% { opacity: 1; } to { opacity: 0; transform: scale(0.3); } }
@keyframes flipIn { from { opacity: 0; transform: perspective(400px) rotateY(90deg); } 40% { transform: perspective(400px) rotateY(-20deg); } 60% { transform: perspective(400px) rotateY(10deg); } 80% { transform: perspective(400px) rotateY(-5deg); } to { opacity: 1; transform: perspective(400px) rotateY(0deg); } }
@keyframes glow { 0%, 100% { box-shadow: 0 0 5px var(--accent-purple); } 50% { box-shadow: 0 0 20px var(--accent-purple), 0 0 30px var(--accent-purple); } }
@keyframes rainbowGlow { 0% { box-shadow: 0 0 20px var(--accent-purple); } 16.66% { box-shadow: 0 0 20px var(--accent-blue); } 33.33% { box-shadow: 0 0 20px var(--accent-green); } 50% { box-shadow: 0 0 20px var(--accent-orange); } 66.66% { box-shadow: 0 0 20px var(--accent-red); } 83.33% { box-shadow: 0 0 20px var(--accent-pink); } 100% { box-shadow: 0 0 20px var(--accent-purple); } }
@keyframes confetti { 0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
@keyframes firework { 0% { transform: scale(0); opacity: 1; } 50% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }

/* ===== GAME-SPECIFIC ANIMATIONS ===== */
@keyframes targetReveal { 0% { opacity: 0; transform: translateY(-50%) translateX(-50%) scale(0); } 50% { opacity: 1; transform: translateY(-50%) translateX(-50%) scale(1.3); } 100% { opacity: 1; transform: translateY(-50%) translateX(-50%) scale(1); } }
@keyframes scoreReveal { 0% { opacity: 0; transform: translateY(-50%) translateX(-50%) scale(0) rotate(-180deg); } 60% { opacity: 1; transform: translateY(-50%) translateX(-50%) scale(1.2) rotate(10deg); } 100% { opacity: 1; transform: translateY(-50%) translateX(-50%) scale(1) rotate(0deg); } }
@keyframes guessPlacement { 0% { opacity: 0; transform: translateY(-50%) translateX(-50%) scale(0); } 50% { opacity: 1; transform: translateY(-50%) translateX(-50%) scale(1.2); } 100% { opacity: 1; transform: translateY(-50%) translateX(-50%) scale(1); } }
@keyframes messageSlideIn { from { opacity: 0; transform: translateX(-20px); max-height: 0; } to { opacity: 1; transform: translateX(0); max-height: 200px; } }
@keyframes notificationSlideIn { from { opacity: 0; transform: translateX(100%); } to { opacity: 1; transform: translateX(0); } }
@keyframes notificationSlideOut { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(100%); } }
@keyframes modalSlideIn { from { opacity: 0; transform: translateY(-50px) scale(0.9); } to { opacity: 1; transform: translateY(0) scale(1); } }
@keyframes modalSlideOut { from { opacity: 1; transform: translateY(0) scale(1); } to { opacity: 0; transform: translateY(-50px) scale(0.9); } }
@keyframes timerWarning { 0%, 100% { background-color: var(--accent-bg); color: var(--accent-purple); } 50% { background-color: var(--accent-orange); color: white; } }
@keyframes timerDanger { 0%, 100% { background-color: var(--accent-red); color: white; transform: scale(1); } 50% { background-color: #dc2626; color: white; transform: scale(1.05); } }
@keyframes spectrumShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
@keyframes buttonPress { 0% { transform: scale(1); } 50% { transform: scale(0.95); } 100% { transform: scale(1); } }
@keyframes successCelebration { 0% { transform: scale(1) rotate(0deg); } 25% { transform: scale(1.1) rotate(-5deg); } 50% { transform: scale(1.2) rotate(5deg); } 75% { transform: scale(1.1) rotate(-2deg); } 100% { transform: scale(1) rotate(0deg); } }
@keyframes errorShake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); } 20%, 40%, 60%, 80% { transform: translateX(8px); } }

/* ===== UTILITY ANIMATION CLASSES ===== */
.animate-spin { animation: spin 1s linear infinite; }
.animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
.animate-bounce { animation: bounce 1s infinite; }
.animate-shake { animation: shake 0.5s ease-in-out; }
.animate-glow { animation: glow 2s ease-in-out infinite; }
.animate-rainbow-glow { animation: rainbowGlow 3s linear infinite; }
.animate-fade-in { animation: fadeIn 0.3s ease-out; }
.animate-slide-in-top { animation: slideInFromTop 0.3s ease-out; }
.animate-slide-in-bottom { animation: slideInFromBottom 0.3s ease-out; }
.animate-slide-in-left { animation: slideInFromLeft 0.3s ease-out; }
.animate-slide-in-right { animation: slideInFromRight 0.3s ease-out; }
.animate-scale-in { animation: scaleIn 0.3s ease-out; }
.animate-zoom-in { animation: zoomIn 0.3s ease-out; }
.animate-flip-in { animation: flipIn 0.6s ease-out; }
.animate-fade-out { animation: fadeOut 0.3s ease-out; }
.animate-scale-out { animation: scaleOut 0.3s ease-out; }
.animate-zoom-out { animation: zoomOut 0.3s ease-out; }
.animate-target-reveal { animation: targetReveal 0.6s ease-out; }
.animate-score-reveal { animation: scoreReveal 0.8s ease-out; }
.animate-guess-placement { animation: guessPlacement 0.4s ease-out; }
.animate-message-slide-in { animation: messageSlideIn 0.3s ease-out; }
.animate-notification-slide-in { animation: notificationSlideIn 0.3s ease-out; }
.animate-notification-slide-out { animation: notificationSlideOut 0.3s ease-out; }
.animate-modal-slide-in { animation: modalSlideIn 0.3s ease-out; }
.animate-modal-slide-out { animation: modalSlideOut 0.3s ease-out; }
.animate-button-press { animation: buttonPress 0.1s ease-out; }
.animate-success-celebration { animation: successCelebration 0.6s ease-out; }
.animate-error-shake { animation: errorShake 0.5s ease-out; }

.timer.warning { animation: timerWarning 1s ease-in-out infinite; }
.timer.danger { animation: timerDanger 0.5s ease-in-out infinite; }
.spectrum-gradient.animated { background-size: 200% 200%; animation: spectrumShift 4s ease-in-out infinite; }

/* ===== CELEBRATION EFFECTS ===== */
.confetti-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: var(--z-toast); overflow: hidden; }
.confetti-piece { position: absolute; width: 8px; height: 8px; background: var(--accent-purple); animation: confetti 3s linear infinite; }
.confetti-piece:nth-child(1) { background: var(--accent-purple); animation-delay: 0s; left: 10%; }
.confetti-piece:nth-child(2) { background: var(--accent-pink); animation-delay: 0.2s; left: 20%; }
.confetti-piece:nth-child(3) { background: var(--accent-blue); animation-delay: 0.4s; left: 30%; }
.confetti-piece:nth-child(4) { background: var(--accent-green); animation-delay: 0.6s; left: 40%; }
.confetti-piece:nth-child(5) { background: var(--accent-orange); animation-delay: 0.8s; left: 50%; }
.confetti-piece:nth-child(6) { background: var(--accent-red); animation-delay: 1s; left: 60%; }
.confetti-piece:nth-child(7) { background: var(--accent-purple); animation-delay: 1.2s; left: 70%; }
.confetti-piece:nth-child(8) { background: var(--accent-pink); animation-delay: 1.4s; left: 80%; }
.confetti-piece:nth-child(9) { background: var(--accent-blue); animation-delay: 1.6s; left: 90%; }

.firework-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: var(--z-toast); }
.firework { position: absolute; width: 4px; height: 4px; border-radius: 50%; animation: firework 1s ease-out; }
.firework::before, .firework::after { content: ''; position: absolute; width: 4px; height: 4px; border-radius: 50%; background: inherit; }
.firework::before { transform: rotate(45deg); }
.firework::after { transform: rotate(-45deg); }

/* ===== HOVER AND INTERACTION EFFECTS ===== */
.hover-lift { transition: transform var(--transition-normal), box-shadow var(--transition-normal); }
.hover-lift:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
.hover-glow { transition: box-shadow var(--transition-normal); }
.hover-glow:hover { box-shadow: 0 0 20px rgba(139, 92, 246, 0.3); }
.hover-scale { transition: transform var(--transition-normal); }
.hover-scale:hover { transform: scale(1.05); }
.ripple { position: relative; overflow: hidden; }
.ripple::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; border-radius: 50%; background: rgba(255, 255, 255, 0.3); transform: translate(-50%, -50%); transition: width 0.3s, height 0.3s; }
.ripple:active::before { width: 300px; height: 300px; }

/* ===== LOADING STATES ===== */
.skeleton { background: linear-gradient(90deg, var(--border-light) 25%, var(--hover-bg) 50%, var(--border-light) 75%); background-size: 200% 100%; animation: skeletonLoading 1.5s infinite; }
@keyframes skeletonLoading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
.progress-bar { position: relative; background: var(--border-light); border-radius: var(--radius-full); overflow: hidden; }
.progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent-purple), var(--accent-pink)); border-radius: inherit; transition: width var(--transition-slow); position: relative; }
.progress-fill::after { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent); animation: progressShine 2s infinite; }
@keyframes progressShine { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

/* ===== RESPONSIVE ANIMATION ADJUSTMENTS ===== */
@media (max-width: 768px) {
  .animate-bounce { animation-duration: 1.5s; }
  .animate-pulse { animation-duration: 3s; }
  .hover-lift:hover { transform: translateY(-1px); }
  .hover-scale:hover { transform: scale(1.02); }
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; }
  .animate-spin, .animate-pulse, .animate-bounce { animation: none; }
  .skeleton { animation: none; background: var(--border-light); }
  .progress-fill::after { animation: none; }
}

@media (prefers-contrast: high) {
  .animate-glow, .animate-rainbow-glow, .hover-glow:hover { animation: none; box-shadow: none; }
}

/* ===== ENHANCED CELEBRATION EFFECTS ===== */
@keyframes perfectScore { 0% { transform: scale(1) rotate(0deg); filter: hue-rotate(0deg); } 25% { transform: scale(1.2) rotate(5deg); filter: hue-rotate(90deg); } 50% { transform: scale(1.1) rotate(-5deg); filter: hue-rotate(180deg); } 75% { transform: scale(1.15) rotate(3deg); filter: hue-rotate(270deg); } 100% { transform: scale(1) rotate(0deg); filter: hue-rotate(360deg); } }
@keyframes bonusRound { 0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); } 50% { transform: scale(1.05); box-shadow: 0 0 0 20px rgba(16, 185, 129, 0); } }
@keyframes scoreIncrement { 0% { transform: translateY(0) scale(1); opacity: 1; } 50% { transform: translateY(-20px) scale(1.2); opacity: 1; } 100% { transform: translateY(-40px) scale(0.8); opacity: 0; } }
@keyframes connectionSuccess { 0% { transform: scale(0.8); opacity: 0; } 50% { transform: scale(1.1); opacity: 1; } 100% { transform: scale(1); opacity: 1; } }
@keyframes typingDots { 0%, 60%, 100% { transform: translateY(0); } 30% { transform: translateY(-10px); } }
@keyframes guessSubmitted { 0% { transform: scale(1); background-color: var(--accent-purple); } 50% { transform: scale(1.1); background-color: var(--accent-green); } 100% { transform: scale(1); background-color: var(--accent-purple); } }
@keyframes roundTransition { 0% { opacity: 1; transform: translateX(0); } 50% { opacity: 0; transform: translateX(-100px); } 100% { opacity: 1; transform: translateX(0); } }
@keyframes crownFloat { 0%, 100% { transform: translateY(0) rotate(-5deg); } 50% { transform: translateY(-5px) rotate(5deg); } }

.animate-perfect-score { animation: perfectScore 1.5s ease-in-out; }
.animate-bonus-round { animation: bonusRound 2s infinite; }
.animate-score-increment { animation: scoreIncrement 0.8s ease-out forwards; }
.animate-connection-success { animation: connectionSuccess 0.6s ease-out; }
.animate-typing-dots { animation: typingDots 1.4s infinite; }
.animate-guess-submitted { animation: guessSubmitted 0.5s ease-out; }
.animate-round-transition { animation: roundTransition 0.8s ease-in-out; }
.animate-crown-float { animation: crownFloat 2s ease-in-out infinite; }
.animate-button-ripple { position: relative; overflow: hidden; }
.animate-button-ripple::after { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; border-radius: 50%; background: rgba(255, 255, 255, 0.5); transform: translate(-50%, -50%); animation: buttonRipple 0.6s ease-out; }
@keyframes buttonRipple { 0% { transform: scale(0); opacity: 1; } 100% { transform: scale(4); opacity: 0; } }
.animate-input-focus-glow { animation: inputFocusGlow 0.3s ease-out forwards; }
@keyframes inputFocusGlow { 0% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.4); } 100% { box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.1); } }
.animate-slider-pulse { animation: sliderPulse 1s ease-out; }
@keyframes sliderPulse { 0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.7); } 50% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(139, 92, 246, 0); } }
.animate-chat-bounce { animation: chatBounce 0.4s ease-out; }
@keyframes chatBounce { 0% { transform: translateX(-20px) scale(0.9); opacity: 0; } 60% { transform: translateX(5px) scale(1.02); opacity: 1; } 100% { transform: translateX(0) scale(1); opacity: 1; } }

/* ===== ENHANCED HOVER EFFECTS ===== */
.btn-magnetic { transition: transform 0.2s ease-out; }
.btn-magnetic:hover { transform: translateY(-2px) scale(1.02); }
.btn-magnetic:active { transform: translateY(0) scale(0.98); }
.spectrum-line-enhanced:hover { box-shadow: inset 0 0 20px rgba(139, 92, 246, 0.2), 0 0 20px rgba(139, 92, 246, 0.3); transition: box-shadow 0.3s ease-out; }
.player-item-enhanced { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
.player-item-enhanced:hover { transform: translateY(-4px) scale(1.02); box-shadow: 0 10px 25px rgba(139, 92, 246, 0.15); }
.chat-message-enhanced:hover { background: linear-gradient(135deg, var(--hover-bg), var(--accent-bg)); transform: translateX(4px); transition: all 0.2s ease-out; }

/* ===== LOADING ENHANCEMENTS ===== */
@keyframes spinnerEnhanced { 0% { transform: rotate(0deg) scale(1); border-color: var(--accent-purple) transparent transparent transparent; } 25% { border-color: var(--accent-pink) transparent transparent transparent; } 50% { transform: rotate(180deg) scale(1.1); border-color: var(--accent-blue) transparent transparent transparent; } 75% { border-color: var(--accent-green) transparent transparent transparent; } 100% { transform: rotate(360deg) scale(1); border-color: var(--accent-purple) transparent transparent transparent; } }
.spinner-enhanced { animation: spinnerEnhanced 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite; }
@keyframes progressShimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
.progress-shimmer { background: linear-gradient(90deg, var(--accent-purple) 0%, var(--accent-pink) 25%, var(--accent-blue) 50%, var(--accent-green) 75%, var(--accent-purple) 100%); background-size: 200% 100%; animation: progressShimmer 2s ease-in-out infinite; }